# cluster setup for k8s

## Using Talos Linux
[talos](https://www.talos.dev/) Operating system allow for external setup of an kubernetes cluster or single machine kluster. The goal of this subdirectory to handle the control of talos without direct use of talosctl.


## Structure
```
/cluster-setup/
|--/template 
|----/patches -- folder contains must up to date template for new nodes
|------controlplane-patch.yaml -- control plane patches that need to be applied
|--/{node} -- setup for a specific node 
|----/patches -- folder that contains all patches for a node
|----talosoconfig -- generated at time of node creation (gitignored)
|----controlplane.yaml -- generated by talosconfig used to deploy controlplane to node(gitingored)
|----worker.yaml -- generated by talos config and deploy if node is control plane node (gitignored)
```
The ideaology for this structure is to have a deployment node that has all the needed files to deploy a valid talo node from a single server. This assumes that the node being used to push deployments can access the talos node.